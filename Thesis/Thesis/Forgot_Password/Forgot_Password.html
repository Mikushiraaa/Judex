<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forgot Password</title>
    <link rel="stylesheet" href="Forgot_Password.css">
    <script src="Forgot_Password.js"></script>
</head>
<body>
    <!-- User choice if sms or email -->
    <div class="container" id="forgot-password">
        <h2 align="left">Forgot Password?</h2>
            <p class="left-align">Select which contact details should we use to reset your password:</p>
                <button onclick="showForm('sms')">ğŸ“± Via SMS</button>
                <button onclick="showForm('email')">ğŸ“§ Via Email</button>
        <span class="back-link-ForgotPassword right-align" onclick="window.location.href='../SignIn_SignUp/SignIn_SignUp.html'">â† Back to sign in</span>
    </div>

<!-- Authentication through Email -->
<div class="container hidden" id="email-form">
    <h2 align="left">Verify your identity</h2>
    <p class="left-align">No worries, we'll send you reset instructions.</p>
    <h5 align="left">Email:</h5>
    <div class="input-group">
        <input type="email" placeholder="Email">
        <button>Send Code</button>
    </div>
    <h5 align="left">Code:</h5>
    <input type="text" placeholder="Code">
    <button id="confirm-email-btn" onclick="showResetPasswordContainer()">Confirm</button>
    <button onclick="goBack()">Try another way</button>
    <span class="back-link-Email right-align" onclick="window.location.href='../SignIn_SignUp/SignIn_SignUp.html'">â† Back to sign in</span>
</div>

<!-- Authentication through SMS -->
<div class="container hidden" id="sms-form">
    <h2 align="left">Verify your identity</h2>
    <p class="left-align">No worries, we'll send you reset instructions.</p>
    <h5 align="left">Contact No.</h5>
    <div class="input-group">
        <!-- Dropdown for country codes -->
        <select id="country-code" style="width: 100px; padding: 10px; border: 1px solid #ccc; border-radius: 5px;">
            <option value="+1">ğŸ‡ºğŸ‡¸ +1</option>
            <option value="+44">ğŸ‡¬ğŸ‡§ +44</option>
            <option value="+63">ğŸ‡µğŸ‡­ +63</option>
            <option value="+91">ğŸ‡®ğŸ‡³ +91</option>
            <option value="+81">ğŸ‡¯ğŸ‡µ +81</option>
            <option value="+86">ğŸ‡¨ğŸ‡³ +86</option>
            <option value="+61">ğŸ‡¦ğŸ‡º +61</option>
            <option value="+33">ğŸ‡«ğŸ‡· +33</option>
            <option value="+49">ğŸ‡©ğŸ‡ª +49</option>
            <option value="+7">ğŸ‡·ğŸ‡º +7</option>
        </select>
        <input type="text" placeholder="Contact No." id="contact-no">
        <button id="send-code-btn">Send Code</button> 
    </div>
    <h5 align="left">Code:</h5>
    <input type="text" placeholder="Code">
    <button id="confirm-sms-btn" onclick="showResetPasswordContainer()">Confirm</button>
    <button onclick="goBack()"> Try another way</button>
    <span class="back-link-ContactNo right-align" onclick="window.location.href='../SignIn_SignUp/SignIn_SignUp.html'">â† Back to sign in</span>
</div>

<!-- If valid the Email/SMS and Code they can Reset Password -->
<div class="container hidden" id="resetPasswordContainer">
    <h2>Reset Password</h2>
    <form id="resetPasswordForm" onsubmit="return validatePasswords(event)">
        <div class="form-group">
            <label for="newPassword">New Password:</label>
            <input type="password" id="newPassword" required>
            <button type="button" onclick="togglePasswordVisibility('newPassword')">Show</button>
        </div>
        <div class="form-group">
            <label for="confirmPassword">Confirm Password:</label>
            <input type="password" id="confirmPassword" required>
            <button type="button" onclick="togglePasswordVisibility('confirmPassword')">Show</button>
        </div>
        <button type="submit">Reset Password</button>
    </form>
    <p id="errorMessage" class="error-message"></p>
</div>

<!-- Password reset successfully -->
<div class="container hidden" id="successMessageContainer" style="display: none;">
    <h2>Password Reset Successfully</h2>
    <p>You have successfully reset your password.</p>
    <p>Please use your new password when logging in.</p>
    
<button onclick="window.location.href='../SignIn_SignUp/SignIn_SignUp.html'">Back to Sign In</button>

</div>

</body>
</html>